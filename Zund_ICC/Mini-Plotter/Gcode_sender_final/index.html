<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cutter (WiFi)</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<header>
    <h1>Cutter (WiFi)</h1>
    <div style="display: flex; align-items: center; gap: 1rem;">
        <span id="userCount" style="font-size: 0.8rem; color: var(--text-muted); font-weight: 500;"></span>
        <div class="status-badge" id="statusBadge">
            <span class="status-dot"></span>
            <span id="statusText">Disconnected</span>
        </div>
    </div>
</header>

<main>
    <!-- Left: Console -->
    <section class="console-panel">
        <div class="panel-header">G-Code Command</div>
        <div class="console-output" id="consoleOutput">
            <div class="console-line log-info">System initialized...</div>
            <div class="console-line log-info">Ready to connect.</div>
        </div>
        <div class="console-input-area">
            <span class="console-prefix">&gt;</span>
            <input type="text" id="cmdInput" placeholder="Type G-Code..." autocomplete="off">
            <button class="btn btn-primary" id="btnRun">Run</button>
        </div>
    </section>

    <!-- Right: Workspace -->
    <section class="workspace-panel">
        <div class="toolbar">
            <div class="tabs">
                <div class="tab active" onclick="switchTab('gcode-preview')">G-Code Preview</div>
                <div class="tab" onclick="switchTab('svg-preview')">SVG Preview</div>
                <div class="tab" onclick="switchTab('editor')">G-Code Editor</div>
            </div>
            <div class="actions">
                <input type="file" id="fileInput" accept=".gcode,.svg" style="display: none;">
                <button class="btn btn-action" onclick="document.getElementById('fileInput').click()">Load File</button>
                <button class="btn btn-start" id="btnStart" disabled>Start Cutting</button>
            </div>
        </div>

        <div class="content-area" id="dropZone">
            <!-- G-Code Preview Tab -->
            <div id="gcodePreview" class="view-panel">
                <div id="emptyState" class="empty-state" onclick="document.getElementById('fileInput').click()">
                    <div class="empty-icon">üìÇ</div>
                    <div class="empty-text">Drag & Drop Files Here</div>
                    <div class="empty-subtext">Supports .gcode, .svg</div>
                </div>
                <div id="canvasContainer" class="hidden" style="width:100%; height:100%; display:flex; justify-content:center; align-items:center; overflow:hidden;">
                    <canvas id="gcodeCanvas"></canvas>
                </div>
            </div>

            <!-- SVG Preview Tab -->
            <div id="svgPreview" class="view-panel hidden">
                 <!-- Re-using empty state logic if empty, otherwise populated -->
                 <div class="empty-state" onclick="document.getElementById('fileInput').click()">
                    <div class="empty-icon">üñºÔ∏è</div>
                    <div class="empty-text">No SVG Loaded</div>
                </div>
            </div>

            <!-- Editor Tab -->
            <textarea id="gcodeEditor" class="view-panel hidden" spellcheck="false" placeholder="G-Code will appear here..."></textarea>
        </div>
    </section>
</main>

<script type="module" src="script.js"></script>

</body>
</html>